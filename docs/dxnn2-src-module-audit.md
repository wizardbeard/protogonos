# DXNN2 `src/` Module Audit (Verified Against `.ref/src`)

This audit is based on the local reference implementation at `.ref/src`.

## Audit date

- 2026-02-27

## Verification source

- Reference root: `.ref/src`
- Files audited: all `.erl` plus `records.hrl`

## Module matrix

Status legend:
- `implemented`: direct functional equivalent exists in current Go codebase.
- `partial`: concept present, but significant behaviors from reference module are missing.
- `missing`: no meaningful equivalent found yet.
- `out-of-scope-now`: not targeted in current AGENTS phase scope.

| Ref module | Primary role (inferred from source) | Go mapping | Status | Evidence |
|---|---|---|---|---|
| `polis.erl` | platform lifecycle, DB bootstrap/start/stop | `internal/platform/polis.go`, `internal/platform/supervisor.go`, `internal/storage/*` with idempotent init/start state, explicit stop lifecycle including `normal`/`shutdown` reason surface and tracked last-stop reason, package-level default runtime registry APIs mirroring singleton `whereis(polis)` semantics (`StartDefault`/`Default`/`StopDefault`) plus `sync/0` analogs (`Polis.Sync`/`SyncDefault`), explicit call/cast protocol analogs (`Call`/`Cast`) for `get_scape`/stop/init message paths processed through a channel-backed mailbox actor loop with explicit init-state payload handling (`InitCast{State: ...}` / `InitWithState`), scape lookup semantics by name plus configured public-scape type (`GetScapeByType`) with insertion-order first-match behavior across dynamic add/remove, configured support-module startup/shutdown plus online add/remove APIs (`AddSupportModule`/`AddSupportModuleWithPolicy`/`RemoveSupportModule`), configured public-scape autostart with tracked scape-summary metadata plus managed lifecycle hooks (including summary-aware startup via `StartWithSummary`) and online add/remove APIs (`AddPublicScape`/`RemovePublicScape`) with explicit `restart_policy`, and Go-native supervision abstraction (`Supervisor`) with restart/backoff policy, strategy support (`one_for_one`/`one_for_all`) including recoverable-failure sibling restart orchestration with policy-aware `temporary`/`transient` handling, child-spec/status metadata surface (`SupervisorChildSpec`/`SupervisorChildStatus` + `ActiveSupervisedChildren`), restart-policy surface (`permanent`/`transient`/`temporary`), restart/permanent-failure hooks, failure-history introspection (`SupervisionFailures`), and optional restart-exhaustion shutdown escalation (`EscalateOnSupervisorFailure`/`SupervisorFailureReason`) for long-lived support-module/public-scape `Supervise(ctx)` loops, explicit `create`/`reset` lifecycle APIs backed by store reset support (shutdown-style reset teardown), and CLI lifecycle wiring via `protogonosctl reset` | `implemented` | `internal/platform/polis.go`, `internal/platform/supervisor.go`, `internal/platform/polis_test.go`, `internal/platform/supervisor_test.go`, `internal/storage/*`, `pkg/protogonos/api.go`, `cmd/protogonosctl/main.go`, `cmd/protogonosctl/main_integration_test.go`, `.ref/src/polis.erl` |
| `population_monitor.erl` | eval loop, evolutionary control, species/population ops | `internal/evo/population_monitor.go` with species-aware evolution loop, lineage/diagnostics, early-stop controls (`fitness_goal`, `evaluations_limit`), `survival_percentage`-driven elite retention derivation, `specie_size_limit` parent-pool capping, pause/continue/stop control-channel semantics via platform/API/CLI (`run_id` live controls), lifecycle trace controls for `goal_reached`/`print_trace`, committee/benchmarker-style trace-update parity via step-sized callbacks (`trace_step_size`, default `500`) and completion callbacks (`TraceUpdateHook`), platform/API/CLI command exposure for those trace controls (`GoalReachedRun`/`PrintTraceRun`, `monitor goal-reached|print-trace`), trace-step config materialization from CLI/config (`--trace-step-size`, `trace_step_size`, `trace.step_size`), step-window `gather_STATS`-style callback accumulation (`step_evaluations`, `step_cycles`, `step_time`, per-species evaluation counts), expanded per-species stats payload in callbacks (fitness mean/std/min/max, neuron mean/std, diversity), optional species-champion validation/test probe metrics in callbacks (`validation_probe`/`test_probe`, `--validation-probe`/`--test-probe`) with explicit mode-aware routing to `validation`/`test` when supported by the active scape and validation-triggered test probing semantics, steadier reference-closer `steady_state` replacement behavior (single-offspring replacement per cycle, not whole-population replacement), continuation from persisted population snapshots via `continue_population_id`, success-only mutation-step retry semantics (failed/inapplicable mutators do not decrement requested mutation count), fail-fast IO compatibility validation, generation-offset continuation semantics, persisted `initial_generation` run metadata, default continuation identity reuse (`run_id <- continue_population_id`), append-on-continue history persistence for same-run continuation, map2rec `pmp.population_id` continuation-default materialization, explicit evolution-type wiring for `generational`/`steady_state` (`constraint.population_evo_alg_f` + `pmp.evolution_type`) with steady-state runtime behavior/tests, reference-closer `goal_reached` accounting (post-signal evaluations are no longer counted), in-flight control processing while waiting on worker results (so command handling is not deferred to boundary-only drains), and explicit `delete_population` lifecycle deletion command path | `implemented` | `internal/evo/population_monitor.go`, `internal/evo/population_monitor_test.go`, `internal/platform/polis_evolution_test.go`, `internal/platform/polis.go`, `internal/genotype/store.go`, `internal/morphology/regression_mimic.go`, `internal/stats/artifacts.go`, `cmd/protogonosctl/config.go`, `cmd/protogonosctl/main_integration_test.go`, `cmd/protogonosctl/main.go`, `pkg/protogonos/api_test.go`, `.ref/src/population_monitor.erl` |
| `cortex.erl` | sensor/neuron/actuator runtime coordination | `internal/agent/cortex.go` with sensor->forward->actuator orchestration, vector/chunked actuator dispatch support, explicit lifecycle states (`active`/`inactive`/`terminated`), reactivation/reset semantics, reference-style actuator sync-feedback episode aggregation (`fitness_acc`/`endflag`/cycle/time/goal via `RunUntilEvaluationComplete`), and runtime weight backup/restore/perturb APIs mirroring neuron message semantics | `implemented` | `internal/agent/cortex.go`, `internal/agent/cortex_test.go`, `.ref/src/cortex.erl` |
| `exoself.erl` | agent lifecycle + tuning + eval mode orchestration | `internal/tuning/exoself.go` + monitor integration with minimum-improvement acceptance threshold parity (`MIN_PIMPROVEMENT`-style) via relative dominance gating (`candidate > incumbent + incumbent*mip`), consecutive non-improvement attempt budgeting with reset-on-improvement semantics, goal-aware early stop (`fitness_goal`), perturbation controls (`perturbation_range`/`annealing_factor`), tuning-selection/vector helper parity (`transpose`/`vector_avg`/`vector_basic_stats`), per-generation tuning telemetry in diagnostics/artifacts, explicit `op_mode` routing (`gt`/`validation`/`test`) and composite/list parsing (`[gt,validation,test]`), plus full actor-level orchestration parity through runtime exoself sessions (`TuneRuntimeWithReport`) that execute backup/restore/reactivate/apply loops on persistent cortex instances and are dispatched by monitor workers in `gt` mode | `implemented` | `internal/tuning/exoself.go`, `internal/tuning/exoself_test.go`, `internal/tuning/tuner.go`, `internal/evo/population_monitor.go`, `internal/evo/population_monitor_test.go`, `internal/evo/population_monitor_tuning_test.go`, `internal/agent/cortex.go`, `internal/agent/cortex_test.go`, `internal/platform/polis.go`, `internal/model/types.go`, `cmd/protogonosctl/main.go`, `cmd/protogonosctl/main_integration_test.go`, `cmd/protogonosctl/config.go`, `cmd/protogonosctl/config_test.go`, `pkg/protogonos/api.go`, `pkg/protogonos/api_test.go`, `.ref/src/exoself.erl` |
| `neuron.erl` | neuron actor runtime, integrator/plasticity hooks | `internal/nn/network.go` with activation/aggregator forward path and reference-aligned output saturation (`[-1,1]`), recurrent synapse prior-step memory support when runtime state is provided, and per-target-neuron plasticity rule/rate precedence in runtime updates, plus cortex-exposed runtime weight backup/restore/perturb protocol analogs | `implemented` | `internal/nn/network.go`, `internal/nn/network_test.go`, `internal/nn/plasticity.go`, `internal/nn/plasticity_test.go`, `internal/agent/cortex.go`, `internal/agent/cortex_test.go`, `.ref/src/neuron.erl` |
| `sensor.erl` | sensor actor implementations + scape IO | `internal/io/*` | `partial` | `internal/io/interfaces.go`, `internal/io/scalar_components.go`, `.ref/src/sensor.erl` |
| `actuator.erl` | actuator actor implementations + scape IO | `internal/io/*` with scalar/vector actuator families, scape-compatibility filtering, and reference-name alias normalization for legacy actuator IDs (`xor_SendOutput`, `pb_SendOutput`, `dtm_SendOutput`, `two_wheels`, `fx_Trade`, `abc_pred`, `general_predictor`, `choose_OptimizationPhase`) via canonical runtime IDs in registry resolution/compatibility checks plus cortex canonical/alias registration lookup fallback | `partial` | `internal/io/interfaces.go`, `internal/io/scalar_components.go`, `internal/io/actuator_aliases.go`, `internal/io/registry.go`, `internal/agent/cortex.go`, `.ref/src/actuator.erl` |
| `scape.erl` | benchmark environments (xor, pole balancing, fx, dtm, etc.) | `internal/scape/*` with direct scape coverage for xor/regression/cart-pole-lite/pole2-balancing/dtm/flatland/gtsa/fx/epitopes/llvm-phase-ordering, mode-aware evaluation routing now including explicit windows on xor/regression/cart-pole-lite/flatland/dtm/pole2 plus delegated families and cross-scape `benchmark` alias support, reference-name alias normalization (`*_sim`, `*_sim1`, `*_v1`, `scape_*`) across runtime lookup/compatibility/seed construction (including flatland/epitopes/fx/gtsa/llvm families), TickAgent sensor/actuator execution support for flatland/gtsa/fx/epitopes/llvm/dtm in addition to step-runner evaluation, with flatland StepAgent inputs now aligned to the full sensing vector surface (`12` base channels + `15` scanner bins, including explicit prey/predator heading+proximity social channels) and class-aware scanner color semantics split across reference-style categories (`plant`/`prey`/`predator`/`poison`/`wall`), and flatland surrogate multi-agent depth expanded with ambient prey/predator actors (chase/escape movement, collision effects, respawn lifecycle, predator-prey contact resolution, near-miss pressure dynamics, and expanded social telemetry), richer flatland metabolics/collision respawn-cycle behavior now including wall barriers, resource potency growth, and relocation-based respawn lifecycles, deeper GTSA table/window diagnostics with per-agent index progression (`index_start`/`index_current`/`index_end`) and rolling-window metadata plus optional TickAgent internal-state channels (`gtsa_delta`/`gtsa_window_mean`/`gtsa_progress`) and optional CSV table ingestion/bound overrides, FX account/order lifecycle simulation plus enriched step-percept internals, optional internal-state sensor channels, and optional CSV price-series ingestion, expanded pole2/dtm runtime telemetry parity (damping-style pole2 fitness accumulation + terminal reasons with reference GT `100000` step budgets, optional vector push-controls for damping/double-pole flags, and TickAgent sensing-surface subset support for parameterized pole2 channels; plus reference-style non-timeout DTM run-step accounting, TickAgent subset support for `all`/`range_sense`/`reward` DTM sensing surfaces, and optional DTM workflow-state channels `dtm_run_progress`/`dtm_step_progress`/`dtm_switched`), XOR scorer parity alignment to reciprocal-SSE semantics (`1/(SSE+1e-6)`), deeper epitopes/llvm surrogates (sequence-feature windows, table-driven session windows, optional TickAgent internal-state channels `epitopes_target`/`epitopes_progress`/`epitopes_margin`, optional LLVM workflow-state channels `llvm_alignment`/`llvm_diversity`/`llvm_runtime_gain`, and optional CSV table ingestion for external row sets, plus LLVM vector optimization-surface selection/telemetry), and run-surface dataset configuration support (API/CLI/config-file fields + persisted run artifacts for GTSA/FX/Epitopes CSV paths and bounds plus LLVM workflow JSON paths) plus context-scoped source binding (`WithDataSources`) for run-level isolation in the surrogate runtime (including scoped LLVM workflow sources), with flatland run-level override controls now including scanner/layout/trials and episode bounds (`max_age`, `forage_goal`) via API/CLI/config/context wiring | `partial` | `internal/scape/xor.go`, `internal/scape/regression_mimic.go`, `internal/scape/cart_pole_lite.go`, `internal/scape/pole2_balancing.go`, `internal/scape/dtm.go`, `internal/scape/flatland.go`, `internal/scape/gtsa.go`, `internal/scape/fx.go`, `internal/scape/epitopes.go`, `internal/scape/llvm_phase_ordering.go`, `internal/scapeid/normalize.go`, `internal/io/registry.go`, `internal/morphology/regression_mimic.go`, `internal/genotype/lifecycle.go`, `internal/platform/polis.go`, `pkg/protogonos/api.go`, `.ref/src/scape.erl` |
| `morphology.erl` | morphology catalogs + init/full sensor/actuator selection | `internal/morphology/*` | `partial` | `internal/morphology/regression_mimic.go`, `internal/morphology/xor.go`, `.ref/src/morphology.erl` |
| `genome_mutator.erl` | mutation operator suite | `internal/evo/mutations.go` with explicit reference-name mutators for `mutate_weights`, `add_bias`/`remove_bias`, `mutate_af`/`mutate_aggrf`, `mutate_pf`, `mutate_plasticity_parameters`, `add_neuron`, and `remove_neuron`; reference-closer `mutate_weights` semantics via tuning-selection-aware neuron targeting with proportional incoming-weight perturbation (`1/sqrt(incoming_weights)` + at-least-one fallback); dedicated directional add/remove link operators for `add_inlink`/`add_outlink`/`remove_inlink`/`remove_outlink` without non-directional fallback when directional candidates are absent and with feedforward layer-order gating in default feedforward mode, with `add_inlink` now also considering sensor->neuron endpoint-link candidates; explicit splice operators for `outsplice`/`insplice` with directional candidate gating and feedforward edge filtering in feedforward mode plus exhaustion/no-synapse cancellation via `ErrNoMutationChoice`; explicit sensor/actuator add/remove mutation operators for `add_sensor`/`add_sensorlink`/`add_actuator`/`add_actuatorlink`/`remove_sensor`/`remove_actuator` filtered by scape-compatible IO registry entries with split component-vs-link semantics (`add_sensor` auto-connects one initial endpoint link and `add_actuator` now builds a helper-neuron scaffold with one helper synapse plus one initial actuator endpoint link, `add_*link` appends additional explicit endpoint links, `remove_*` removes selected endpoint and its explicit links, with legacy link counters synchronized, and now cancels on empty/exhausted choice pools instead of no-op success); explicit cutlink alias operators for `cutlink_FromElementToElement`/`cutlink_FromNeuronToNeuron`/`cutlink_FromSensorToNeuron`/`cutlink_FromNeuronToActuator`; explicit link helper aliases for `link_FromElementToElement`/`link_FromNeuronToNeuron`/`link_FromSensorToNeuron`/`link_FromNeuronToActuator`, with generic element-link helpers now selecting across synapse/sensor-link/actuator-link pools and canceling when all candidate pools are exhausted and with neuron-only helper aliases now using candidate-aware applicability plus cancellation on exhausted pools; explicit substrate-structure operators for `add_cpp`/`remove_cpp`/`add_cep`/`remove_cep` with cancellation when no alternative CPP/CEP registry choice exists, with `add_cpp` now appending one sensor->neuron scaffold link when compatible endpoint candidates exist and `add_cep` appending a helper-neuron synapse scaffold when neurons are present; substrate-dimension circuit mutation operators for `add_circuit_node`/`delete_circuit_node`/`add_circuit_layer` now cancel when substrate/dimension prerequisites are missing and remain gated to substrate-configured genomes; legacy mutation names are canonicalized during config/profile ingestion (`add_CircuitNode` -> `add_circuit_node`, `remove_outLink` -> `remove_outlink`, etc.); config and profile mutation ingestion now share a single canonical operator-to-weight-bucket resolver with exhaustive must-have operator-surface tests; explicit search-parameter mutator operators for `mutate_tuning_selection`/`mutate_tuning_annealing`/`mutate_tot_topological_mutations`/`mutate_heredity_type` with expanded reference tuning-selection mode coverage (`dynamic`/`dynamic_random`/`active`/`active_random`/`recent`/`recent_random`/`all`/`all_random`/`current`/`current_random`/`lastgen`/`lastgen_random`) and cancellation when no alternative strategy option exists, with `Applicable` now reflecting alternative-choice availability for singular configured choice sets; function-choice mutators (`mutate_af`/`mutate_aggrf`/`mutate_pf`) now also cancel when no alternative function choice exists and report inapplicable state when constrained choice sets provide no alternatives; plasticity/substrate-parameter mutators (`perturb_plasticity_rate`/`change_plasticity_rule`/`perturb_substrate_parameter`) now cancel when required config or candidate choices are unavailable; `remove_neuron` now cancels when all neurons are protected/non-removable; duplicate directed-edge creation for add-link mutators is now rejected; directional add/remove link exhausted candidate pools now cancel with `ErrNoMutationChoice`; sensor/actuator link mutators now enforce full-connectivity ceilings with `ErrNoMutationChoice` cancellation semantics and also cancel when required component pools are empty; cutlink IO aliases now cancel with `ErrNoMutationChoice` when endpoint-link pools are empty; `mutate_tot_topological_mutations` now mutates function mode and parameter together in genome strategy metadata; `mutate_pf` and `mutate_plasticity_parameters` now mutate per-neuron plasticity metadata; and operator-name parity aligned to reference tags for lineage/reporting output | `implemented` | `internal/evo/mutations.go`, `internal/evo/mutations_test.go`, `cmd/protogonosctl/config.go`, `cmd/protogonosctl/profiles.go`, `pkg/protogonos/api.go`, `.ref/src/genome_mutator.erl` |
| `selection_algorithm.erl` | selection strategy variants | `internal/evo/selection.go` + monitor integration + CLI/API alias mapping (`hof_competition`/`hof_rank`/`hof_top3`/`hof_efficiency`/`hof_random`/`competition`/`top3`) and map2rec config materialization via `constraint.population_selection_f` | `implemented` | `internal/evo/selection.go`, `internal/evo/population_monitor.go`, `cmd/protogonosctl/main.go`, `cmd/protogonosctl/config.go`, `cmd/protogonosctl/profiles.go`, `pkg/protogonos/api.go`, `.ref/src/selection_algorithm.erl` |
| `tuning_selection.erl` | exoself selection schedule variants | `internal/tuning/exoself.go` with reference mode-name coverage (`dynamic`/`dynamic_random`/`active`/`active_random`/`current`/`current_random`/`all`/`all_random`) and legacy aliases (`recent`/`recent_random`/`lastgen`/`lastgen_random`) via CLI/API/config normalization, including probabilistic `*_random` subset selection (`1/sqrt(N)` + non-empty fallback), generation-aware age filtering inferred from genome IDs, `all`/`all_random` full-pool behavior, `lastgen*` alias alignment to current-generation selection semantics, reference-aligned mode-specific empty-pool fallback behavior in exoself and `mutate_weights` (`active` no fallback/no-op; `active_random`/`current*`/`dynamic*` first-candidate fallback), exoself age-annealed spread application (`perturbation_range*pi*annealing^age`) with direct actuator-local perturbation (per-actuator tunables), and mirrored age-annealed direct actuator-target handling in `mutate_weights` using neuron/actuator generation metadata with tagged-ID fallback | `implemented` | `internal/tuning/exoself.go`, `internal/tuning/exoself_test.go`, `cmd/protogonosctl/main.go`, `pkg/protogonos/api.go`, `cmd/protogonosctl/config.go`, `.ref/src/tuning_selection.erl` |
| `tuning_duration.erl` | tuning-attempt duration policies | `internal/tuning/policy.go` + API/CLI/config alias normalization (`const`/`nsize_proportional`/`wsize_proportional`) with distinct `nsize_proportional` and `wsize_proportional` attempt formulas | `implemented` | `internal/tuning/policy.go`, `internal/tuning/policy_test.go`, `pkg/protogonos/api.go`, `cmd/protogonosctl/config.go`, `.ref/src/tuning_duration.erl` |
| `tot_topological_mutations.erl` | mutation-count policy functions | `internal/evo/topological_mutations.go` + monitor integration + map2rec constraint materialization into run config, including stochastic `ncount_exponential` range semantics aligned to reference (`uniform(1..round(n^power))`) | `implemented` | `internal/evo/topological_mutations.go`, `internal/evo/topological_mutations_test.go`, `internal/evo/population_monitor.go`, `cmd/protogonosctl/config.go`, `.ref/src/tot_topological_mutations.erl` |
| `functions.erl` | activation/math utility set | activation registry plus non-activation utility parity surface in `internal/nn/functions.go` (`saturation`/`sat`/`sat_dzone`/`scale`, `avg`/`std`, vector/coordinate helpers, IOW variants, and explicit-state `s/1` analogue via `XORDemoStep`) | `implemented` | `internal/nn/registry.go`, `internal/nn/registry_test.go`, `internal/nn/functions.go`, `internal/nn/functions_test.go`, `.ref/src/functions.erl` |
| `derivatives.erl` | derivative functions for activations | `internal/nn/derivatives.go` with expanded reference-style derivative surface (`linear`/`sigmoid1`/`multiquadric`/`sqrt`/`log` plus clipping parity for `sigmoid`/`gaussian`) | `implemented` | `internal/nn/derivatives.go`, `internal/nn/derivatives_test.go`, `.ref/src/derivatives.erl` |
| `plasticity.erl` | Hebbian/Oja/etc plasticity rules | `internal/nn/plasticity.go` + cortex integration with explicit PF handling for `hebbian`/`hebbian_w`, `oja`/`ojas`/`ojas_w`, `self_modulationV1..V6`, and `neuromodulation`; `hebbian_w`/`ojas_w` use per-synapse learning parameters (`synapse.plasticity_params`) with fallback-rate behavior, self-modulation retains per-target-neuron rule/rate precedence and generalized Hebbian coefficients (`A/B/C/D`) with dynamic-term extraction from both synapse and bias vectors (`plasticity_params`/`plasticity_bias_params`), and neuromodulation dead-zone scaling is integrated; mutation choreography now aligns to rule families via `mutate_pf` (rule-transition neural default reseeding + rule-family vector-width reseeding/clearing) and `mutate_plasticity_parameters` (rule-width vector perturbation `1/sqrt(total_parameters)`, V2/V3/V5 coefficient schedules, signed `hebbian`/`oja` neural-parameter updates, neuromodulation `[rate,A,B,C,D]` `1/sqrt(5)` scheduling, input-before-bias traversal ordering, and `none` cancellation with empty-neuron-rule fallback to genome defaults) | `implemented` | `internal/nn/plasticity.go`, `internal/nn/plasticity_test.go`, `internal/model/types.go`, `internal/genotype/clone.go`, `internal/genotype/genotype_test.go`, `internal/evo/mutations.go`, `internal/evo/mutations_test.go`, `internal/agent/cortex.go`, `.ref/src/plasticity.erl` |
| `signal_aggregator.erl` | dot/mult/diff aggregation modes | selectable per-neuron aggregation in forward path with reference-aligned multiplicative `mult_product` behavior and stateful `diff_product` previous-input differencing semantics across cortex steps | `implemented` | `internal/nn/network.go`, `internal/nn/network_test.go`, `internal/agent/cortex.go`, `internal/agent/cortex_test.go`, `.ref/src/signal_aggregator.erl` |
| `genotype.erl` | construction/cloning/deletion/fingerprint topologies | seed builders + model/store basics + topology fingerprint/signature + genotype utility package | `partial` | `cmd/protogonosctl/main.go`, `pkg/protogonos/api.go`, `internal/model/types.go`, `internal/genotype/*`, `.ref/src/genotype.erl` |
| `specie_identifier.erl` | species topology identifiers | `internal/evo/specie_identifier.go` + species tournament selector with explicit `tot_n` parity mapping (and topology fallback), wired through config/API/runtime selection | `implemented` | `internal/evo/specie_identifier.go`, `internal/evo/specie_identifier_test.go`, `internal/evo/selection.go`, `cmd/protogonosctl/config.go`, `pkg/protogonos/api.go`, `.ref/src/specie_identifier.erl` |
| `fitness_postprocessor.erl` | post-fitness adjustment (size/novelty) | `internal/evo/fitness_postprocessor.go` + monitor integration + CLI/API alias mapping (`nsize_proportional`) + map2rec config materialization (`constraint.population_fitness_postprocessor_f`) + reference `size_proportional` exponent parity (`EFF=0.05`) + reference `novelty_proportional` placeholder parity (no-op) | `implemented` | `internal/evo/fitness_postprocessor.go`, `internal/evo/fitness_postprocessor_test.go`, `internal/evo/population_monitor.go`, `cmd/protogonosctl/main.go`, `cmd/protogonosctl/config.go`, `pkg/protogonos/api.go`, `.ref/src/fitness_postprocessor.erl` |
| `benchmarker.erl` | experiment orchestration/reporting/graphs | `benchmark` command + artifacts + profile resolution views, including persisted best-series summary stats (`best_mean`/`best_std`/`best_min`/`best_max`) in benchmark artifacts, persisted multi-run experiment lifecycle orchestration (`benchmark-experiment start|continue|show|list`) with run-index/total-runs progress + interruption capture + deterministic per-run IDs, experiment evaluation/report surfaces (`benchmark-experiment evaluations|report`) with persisted report bundles (`<name>_Experiment.json`, `<name>_Trace_Acc.json`, `<name>_Evaluations.json`, `<name>_Report.json`), reference-style graph text outputs (`graph_<morphology>_<name>_Graphs`), utility command analogs for `trace2graph`/`gen_plot`/`genplot` (`benchmark-experiment trace2graph|plot`), benchmarker-local debug helper analogs (`benchmark-experiment chg-mrph|vector-compare`), and `unconsult/1`-style dump output helper (`benchmark-experiment unconsult`) | `implemented` | `cmd/protogonosctl/main.go`, `cmd/protogonosctl/benchmark_experiment.go`, `cmd/protogonosctl/profiles.go`, `internal/stats/artifacts.go`, `internal/stats/experiment_artifacts.go`, `internal/stats/benchmarker_report.go`, `internal/stats/benchmarker_graph.go`, `internal/stats/benchmarker_plot.go`, `internal/stats/benchmarker_vector.go`, `internal/stats/benchmarker_unconsult.go`, `.ref/src/benchmarker.erl` |
| `map2rec.erl` | map->record conversion helpers | `internal/map2rec` with broad record-materialization parity (`constraint`/`pmp`/`experiment`/`circuit`/`layer`/`layer2`/`layer_spec`/`neurode`/`sensor`/`actuator`/`neuron`/`agent`/`cortex`/`substrate`/`polis`/`scape`/`sector`/`avatar`/`object`/`circle`/`square`/`line`/`e`/`a`/`specie`/`population`/`trace`/`stat`/`topology_summary`/`signature`/`champion`), including list-valued `pmp.op_mode` materialization, plus runtime use in profile/config ingestion (`run`/`benchmark --config`) | `implemented` | `internal/map2rec/convert.go`, `internal/map2rec/convert_test.go`, `cmd/protogonosctl/profiles.go`, `cmd/protogonosctl/config.go`, `cmd/protogonosctl/main.go`, `cmd/protogonosctl/main_integration_test.go`, `.ref/src/map2rec.erl` |
| `records.hrl` | central schema/extensibility surface | full record-equivalent schema materialization (`internal/map2rec/types.go`) + defaults/fallback conversion coverage (`internal/map2rec/convert.go`) + versioned record-envelope codec support across all record kinds (`internal/map2rec/codec.go`) + extension registries (`internal/io/registry.go`, `internal/evo/registry.go`, `internal/nn/registry.go`) | `implemented` | `internal/map2rec/types.go`, `internal/map2rec/convert.go`, `internal/map2rec/convert_test.go`, `internal/map2rec/codec.go`, `internal/map2rec/codec_test.go`, `internal/io/registry.go`, `internal/evo/registry.go`, `internal/nn/registry.go`, `.ref/src/records.hrl` |
| `dxnn2_app.erl` | OTP application entrypoint | `cmd/protogonosctl/main.go` | `out-of-scope-now` | `cmd/protogonosctl/main.go`, `.ref/src/dxnn2_app.erl` |
| `flatland.erl` | interactive multi-agent world/scape server | `internal/scape/flatland.go` with scalar-IO world surrogate including metabolics, collision events, respawn timers, terminal-cause tracking, wall-barrier penalties, resource potency growth, relocation-based respawn cycling, ambient prey/predator interaction surrogates (chase/escape motion, collision rewards/penalties, predator-prey contact resolution, and near-miss predator-pressure dynamics), and explicit social sensing channels (`prey`/`predator` heading + proximity) across IO/morphology/seed/step/tick surfaces, with expanded trace coverage | `partial` | `internal/scape/flatland.go`, `internal/scape/flatland_test.go`, `.ref/src/flatland.erl` |
| `fx.erl` | financial simulation/evaluation tooling | `internal/scape/fx.go` with account/order lifecycle surrogate (`open`/`close`/flip semantics, realized/unrealized P/L, drawdown and margin-call tracking, mode windows), enriched feature-percept internals, optional internal-state sensor channel wiring (`fx_momentum`/`fx_volatility`/`fx_nav`/`fx_drawdown`/`fx_position`/`fx_entry`/`fx_percent_change`/`fx_profit`) through morphology/IO/seed scaffolding, and optional external CSV price-series ingestion with trace-level source metadata (`series_name`/`series_points`) | `partial` | `internal/scape/fx.go`, `internal/scape/fx_test.go`, `internal/morphology/fx.go`, `internal/io/scalar_components.go`, `internal/genotype/lifecycle.go`, `.ref/src/fx.erl` |
| `scape_GTSA.erl` | time-series scape process | `internal/scape/gtsa.go` with table-backed series windows, per-agent index state progression and rolling-window metadata, TickAgent internal-state channel wiring (`gtsa_delta`/`gtsa_window_mean`/`gtsa_progress`) with default morphology/seed scaffolding, prediction diagnostics (`mse`/`mae`/direction/jitter) across mode windows, and optional CSV-backed table ingestion with explicit train/validation/test cutoffs | `partial` | `internal/scape/gtsa.go`, `internal/scape/gtsa_test.go`, `internal/morphology/gtsa.go`, `internal/io/scalar_components.go`, `internal/genotype/lifecycle.go`, `.ref/src/scape_GTSA.erl` |
| `substrate.erl` | substrate encoding runtime | `internal/substrate/runtime.go` + cortex/monitor integration | `partial` | `internal/substrate/runtime.go`, `internal/agent/cortex.go`, `internal/evo/population_monitor.go`, `.ref/src/substrate.erl` |
| `substrate_cpp.erl` | substrate CPP runtime | `internal/substrate/components.go` + registry | `partial` | `internal/substrate/components.go`, `internal/substrate/registry.go`, `.ref/src/substrate_cpp.erl` |
| `substrate_cep.erl` | substrate CEP runtime | `internal/substrate/components.go` + registry with reference CEP mode names (`delta_weight`/`set_weight`/`set_abcn`) and command alias coverage (`set_iterative`), thresholded control mapping, reference-style weight saturation (`±3.1415`) in simplified CEP apply paths, ordered multi-CEP chain support (`Spec.CEPNames`) to mirror reference CEP fan-in sequencing at runtime, optional coefficient-driven `set_abcn` update semantics via substrate parameters (`A/B/C/N` or `abcn_*`), plus CEP protocol helpers (`CEPProcess`, `BuildCEPCommand`, `ApplyCEPCommand`) integrated into `SimpleRuntime.Step` with fallback to direct `CEP.Apply` for non-reference custom CEP names, explicit sender/target PID command envelopes (`CEPCommand.FromPID`/`CEPCommand.ToPID`) for `{CEP_Pid, Command, Signal}` parity, typed CEP process message protocol handling (`CEPInitMessage`/`CEPForwardMessage`/`CEPTerminateMessage`/`CEPSyncMessage`) routed through `CEPProcess.HandleMessage`, mailbox-backed CEP actors (`CEPActor`) and runtime actor-call forwarding to mirror receive-loop process execution, prep-style init handoff via owner-scoped actor bootstrap (`NewCEPActorWithOwner`) and init messages (`CEPInitMessage`) plus queued pre-init post delivery after successful init, selective owner-match ignore semantics for async non-owner init posts, payload-driven init support (`CEPInitMessage` `ID`/`CxPID`/`SubstratePID`/`CEPName`/`Parameters`/`FaninPIDs` when `Process` is omitted), runtime actor bootstrap using payload init handoff instead of direct process-pointer injection, actor-only runtime CEP execution/termination paths after bootstrap, direct runtime bootstrap state now derived from CEP-chain init payloads (without preconstructed runtime process handles), and per-weight CEP actor pools in runtime for deeper process-topology isolation across substrate weight updates with scoped per-weight process IDs (`<base>_wN`), actor command-outbox delivery (`CEPActor.NextCommand`) and actor error-mailbox delivery (`CEPActor.NextError`) consumed by runtime with enqueue-only actor posting (`CEPActor.Post`) plus posted sync-marker barriers (`CEPActor.PostSync`/`CEPActor.AwaitSync` over `CEPSyncMessage.SyncID`) and out-of-order sync-marker preservation as CEP message/error path analogs, and strict actor-only runtime forwarding (`ErrMissingCEPActor`) without direct in-process process fallback, selective-receive-like fan-in handling in `CEPProcess` (configured sender order is buffered/accumulated, while non-member sender messages are ignored without mailbox errors), terminate-match handling aligned to selective owner matching (non-owner terminate messages are ignored in process handling, with `TerminateFrom` retaining explicit sender validation for direct calls), explicit terminate lifecycle wiring (`SimpleRuntime.Terminate`, cortex propagation via `substrate.TerminableRuntime`), ordered multi-signal fan-in forwarding support through `VectorCPP` + `Spec.CEPFaninPIDs` with width validation, per-CEP fan-in configuration support (`Spec.CEPFaninPIDsByCEP`) with runtime process-local signal routing, raw step-input vector fan-in support for `set_abcn` flows when fan-in widths match, runtime named fan-in signal routing support through `FaninRuntime.StepWithFanin` (consumed by `SimpleRuntime` as first-priority control-signal source), and runtime fan-in ID resolution for monitor/replay flows with explicit CEP endpoint-link precedence plus output-neuron fallback (`ResolveSubstrateCEPFaninPIDs` / `ResolveSubstrateCEPFaninPIDsByCEP`) and global fan-in unionization (`FlattenSubstrateCEPFaninPIDsByCEP`), now paired with persisted genome chain-name wiring (`SubstrateConfig.CEPNames`, map2rec `cep_names`) into runtime chain config (`Spec.CEPNames`) | `partial` | `internal/substrate/components.go`, `internal/substrate/cep_protocol.go`, `internal/substrate/runtime.go`, `internal/substrate/registry.go`, `internal/substrate/types.go`, `internal/genotype/substrate_fanin.go`, `internal/evo/population_monitor.go`, `pkg/protogonos/api.go`, `internal/map2rec/convert.go`, `internal/model/types.go`, `.ref/src/substrate_cep.erl` |
| `visor.erl` | visualization loop/UI drawing | none | `out-of-scope-now` | `.ref/src/visor.erl` |
| `epitopes.erl` | experiment/sim utility tooling | `internal/scape/epitopes.go` deterministic scape-level surrogate with table-driven sense/classify sessions, mode windows, optional TickAgent internal-state channels (`epitopes_target`/`epitopes_progress`/`epitopes_margin`) backed by morphology/IO/seed defaults, optional external CSV table ingestion (`LoadEpitopesTableCSV`/`ResetEpitopesTableSource`) for data-driven row sets, ETS-style built-in table-catalog selection (`abc_pred10..20`) exposed through global/runtime selectors plus run-scoped API/CLI/config `epitopes_table_name` (`--epitopes-table`) overrides, explicit simulator/message-protocol parity via `NewEpitopesSimulator` (`Sense`/`Classify`/`State`), explicit table-process lifecycle parity via `StartEpitopesTableDB`/`StopEpitopesTableDB`, and `test/1`-style generation-champion replay parity via persisted `trace_acc` artifacts and validation-fitness-selected best-of-best reruns in `Client.EpitopesReplay` / `protogonosctl epitopes-test` | `implemented` | `internal/scape/epitopes.go`, `internal/scape/epitopes_test.go`, `internal/scape/data_sources.go`, `internal/scape/data_sources_test.go`, `internal/morphology/epitopes.go`, `internal/io/scalar_components.go`, `internal/genotype/lifecycle.go`, `internal/evo/population_monitor.go`, `internal/stats/artifacts.go`, `internal/stats/artifacts_test.go`, `pkg/protogonos/api.go`, `pkg/protogonos/api_test.go`, `cmd/protogonosctl/main.go`, `cmd/protogonosctl/main_integration_test.go`, `cmd/protogonosctl/config.go`, `.ref/src/epitopes.erl` |
| `data_extractor.erl` | dataset ingestion and conversion tooling | extractor workflow via `protogonosctl data-extract` + `internal/dataextract` for GTSA/FX/Epitopes canonical CSV output, extended with reference-style packager targets for `mnist`, `wine`, `chr_hmm`, `simple`, `vowel_recognition`, `abc_pred1`, `hedge_fund`, `rw`/mines-vs-rocks, and `chrom_HMM` expanded workflows (including known chrom-HMM tag catalog support), ETS-like table artifact workflows (build/write/read/dump) exposed through `--table-out` and `--table-check`, deep-gene-style post-processing transforms/stats (scale by max, asinh scale, binarize, clean-zero, zero-count/stats reporting, transformed save), deep-gene full `resolutionator` analogs (window averaging with optional asinh and zero-run dropping), synthetic fixture generation analogs for `create_CircuitTestFiles`/`create_CompetitiveTestFiles` exposed through CLI generation flags, and explicit `#info{}` infer/override metadata semantics (`name`/`ivl`/`ovl`/`trn_end`/`val_end`/`tst_end`) | `implemented` | `cmd/protogonosctl/data_extract.go`, `cmd/protogonosctl/data_extract_test.go`, `internal/dataextract/extract.go`, `internal/dataextract/extract_test.go`, `internal/dataextract/legacy_extract.go`, `internal/dataextract/legacy_extract_test.go`, `internal/dataextract/table.go`, `internal/dataextract/table_test.go`, `internal/dataextract/table_transform.go`, `internal/dataextract/table_transform_test.go`, `internal/dataextract/generate.go`, `internal/dataextract/generate_test.go`, `internal/dataextract/info.go`, `internal/dataextract/info_test.go`, `.ref/src/data_extractor.erl` |

## Latest iteration updates

- 2026-03-01: expanded substrate CEP init/envelope parity by carrying `CxPID` and `SubstratePID` through `CEPInitMessage` and propagating CEP command targets via `CEPCommand.ToPID`.
- 2026-03-01: tightened substrate CEP sync-barrier semantics by preserving unmatched `CEPSyncMessage.SyncID` markers during `AwaitSync`, so out-of-order waits no longer drop earlier posted sync barriers.
- 2026-03-01: expanded substrate CEP process-identity parity by scoping runtime CEP actor init IDs per weight (`<base>_wN`) so sender PIDs remain distinct across per-weight actor pools.
- 2026-02-28: tightened substrate CEP mailbox semantics by making actor post enqueue-only (no per-post processing ack) and adding explicit posted runtime sync markers (`PostSync`/`AwaitSync` over `CEPSyncMessage.SyncID`) before command/error drain.
- 2026-02-28: expanded substrate CEP actor-topology strictness by enforcing actor-only runtime forwarding (`ErrMissingCEPActor`) and removing direct in-process process forwarding fallback.
- 2026-02-28: expanded substrate CEP prep-stage parity with owner-scoped actor bootstrap (`NewCEPActorWithOwner`) and explicit init handoff messages (`CEPInitMessage`) before forward processing.
- 2026-02-28: expanded substrate CEP prep mailbox parity so pre-init posted messages are retained and delivered after successful owner init, instead of being dropped as uninitialized errors.
- 2026-02-28: expanded substrate CEP selective-receive parity by ignoring non-member fan-in sender messages without emitting actor mailbox errors, while preserving ordered accumulation for configured fan-in sender IDs.
- 2026-02-28: expanded substrate CEP terminate-match parity so non-owner terminate messages are ignored in process handling (selective owner matching), while direct `TerminateFrom` calls retain explicit sender-validation errors.
- 2026-02-28: expanded substrate CEP prep owner-match parity so async non-owner init messages are ignored during prep mailbox handling (selective owner matching), while direct init calls retain explicit sender-validation errors.
- 2026-02-28: expanded substrate CEP prep payload parity so `CEPInitMessage` can materialize actor process state from message fields (`ID`/`CEPName`/`Parameters`/`FaninPIDs`) when no prebuilt process is supplied.
- 2026-02-28: expanded substrate CEP bootstrap parity by switching runtime actor initialization to payload-style `CEPInitMessage` state handoff (`ID`/`CEPName`/`Parameters`/`FaninPIDs`) instead of direct process-pointer injection.
- 2026-02-28: expanded substrate CEP actor-only runtime parity by removing direct runtime dependence on bootstrap `CEPProcess` handles after actor initialization so step/terminate flow remains mailbox-actor based.
- 2026-02-28: expanded substrate CEP bootstrap/runtime cohesion by deriving runtime actor bootstrap directly from CEP-chain init payloads and removing preconstructed runtime CEP-process bootstrap state.
- 2026-02-28: expanded substrate CEP process-topology depth by instantiating per-weight CEP actor pools in runtime so CEP mailbox state is isolated per substrate weight path.
- 2026-02-28: expanded substrate CEP mailbox parity with asynchronous actor posting (`CEPActor.Post`) and error mailbox handling (`CEPActor.NextError`), and routed runtime fan-in forwarding through post + mailbox drain flow.
- 2026-02-28: expanded substrate CEP command-path parity by adding actor command outboxes (`CEPActor.NextCommand`) and consuming ready commands through that mailbox path in runtime.
- 2026-02-28: expanded substrate CEP terminate parity by adding ExoSelf-scoped terminate sender validation (`CEPTerminateMessage.FromPID`) with owner-constrained process construction (`NewCEPProcessWithOwner`) and runtime terminate messages sent as `exoself`.
- 2026-02-28: expanded substrate CEP actor-topology parity with mailbox-backed CEP actors (`CEPActor`) and runtime actor-call forwarding so CEP fan-in processing executes through receive-loop goroutine analogs.
- 2026-02-28: expanded substrate CEP message-loop parity by adding typed CEP process messages (`CEPForwardMessage` / `CEPTerminateMessage`) and routing runtime fan-in forwarding/termination through `CEPProcess.HandleMessage`.
- 2026-02-27: expanded substrate CEP selective-receive parity by buffering out-of-order sender messages in `CEPProcess` and consuming queued fan-in only when expected sender order can advance, instead of rejecting out-of-order known senders.
- 2026-02-27: expanded substrate CEP message-envelope parity by assigning explicit CEP process IDs and propagating sender PID through command envelopes (`CEPCommand.FromPID`) as the Go analog to `{CEP_Pid, Command, Signal}`.
- 2026-02-27: expanded substrate CEP runtime topology parity by wiring cortex output-neuron signals into substrate through optional named fan-in routing (`substrate.FaninRuntime` / `StepWithFanin`), with `SimpleRuntime` consuming those named signals as first-priority CEP fan-in controls before vector/input fallbacks.
- 2026-02-27: tightened genome-mutator CEP-selection consistency by synchronizing substrate CEP chain metadata (`CEPName`/`CEPNames`) during `add_cep` and `remove_cep` mutations plus substrate default normalization.
- 2026-02-27: expanded substrate CEP runtime surface with reference-named modes (`set_weight`, `set_abcn`) and aligned default `delta_weight` updates to thresholded bounded control semantics, with updated substrate runtime tests.
- 2026-02-27: tightened substrate CEP runtime parity by applying reference-style weight saturation (`±3.1415`) across `delta_weight`/`set_weight`/`set_abcn` CEP apply paths, including explicit saturation regression tests for set and iterative modes.
- 2026-02-27: expanded substrate CEP fan-in parity by adding ordered CEP chain execution (`Spec.CEPNames`) in `SimpleRuntime`, allowing multi-stage CEP apply ordering analogous to reference CEP fan-in command sequencing.
- 2026-02-27: expanded substrate CEP command-name parity by registering `set_iterative` as an explicit CEP alias for `delta_weight`, matching reference command naming used by CEP->substrate update flows.
- 2026-02-27: expanded substrate CEP `set_abcn` behavior parity by adding an optional coefficient-driven update path (`A/B/C/N` or `abcn_*` parameters) with iterative fallback when coefficients are not provided.
- 2026-02-27: expanded substrate CEP message-protocol parity by adding explicit ordered fan-in/command helpers (`CEPProcess`, `BuildCEPCommand`) with reference command surfaces (`set_weight`/`set_iterative`/`set_abcn`) and terminate-state behavior.
- 2026-02-27: integrated substrate CEP protocol helpers into runtime step execution so `SimpleRuntime.Step` now applies reference command-surface semantics via `BuildCEPCommand` + `ApplyCEPCommand`, with explicit fallback to direct `CEP.Apply` for custom CEP names outside the reference command surface.
- 2026-02-27: expanded substrate CEP actor-lifecycle parity by routing runtime CEP updates through per-CEP protocol-process forwarding and adding explicit terminate semantics (`SimpleRuntime.Terminate` with `ErrSubstrateRuntimeTerminated`) plus cortex-to-substrate termination propagation via `substrate.TerminableRuntime`.
- 2026-02-27: expanded substrate CEP fan-in parity by adding ordered runtime multi-signal forwarding (`VectorCPP` + `Spec.CEPFaninPIDs`) so CEP protocol processing can consume vector control signals (including `set_abcn` coefficient vectors), with explicit fan-in width mismatch validation.
- 2026-02-27: expanded substrate CEP topology wiring parity by deriving runtime CEP fan-in IDs from genome endpoint links (`NeuronActuatorLinks` -> `genotype.SubstrateCEPFaninPIDs` -> `Spec.CEPFaninPIDs`) in both monitor evaluation runtime construction and replay runtime construction.
- 2026-02-27: expanded substrate CEP topology fallback parity by resolving runtime fan-in IDs from explicit CEP endpoint links when present and falling back to ordered output-neuron IDs when endpoint links are absent (`ResolveSubstrateCEPFaninPIDs`) in monitor/replay substrate runtime construction.
- 2026-02-27: expanded substrate CEP input-fan-in parity by allowing `set_abcn` CEP flows to consume raw step-input vectors as protocol fan-in signals when configured fan-in widths match and no `VectorCPP` override is provided, while keeping scalar CEP flows on single-signal fan-in process wiring.
- 2026-02-27: expanded substrate CEP process-topology parity by adding per-CEP fan-in configuration support (`Spec.CEPFaninPIDsByCEP`) with endpoint-order derivation (`ResolveSubstrateCEPFaninPIDsByCEP`) and runtime process-local signal resolution over global fan-in maps.
- 2026-02-27: tightened substrate CEP fan-in mapping robustness by deriving global fan-in IDs as the ordered union across per-CEP fan-in vectors (`FlattenSubstrateCEPFaninPIDsByCEP`) in monitor/replay runtime builders, avoiding missing signal mappings when per-CEP fallback vectors introduce additional fan-in IDs.
- 2026-02-27: expanded substrate CEP chain-configuration parity by adding persisted genome chain-name support (`SubstrateConfig.CEPNames`, map2rec `cep_names`) and wiring monitor/replay runtime builders to pass those chain names into runtime chain config (`Spec.CEPNames`).
- 2026-02-27: expanded actuator legacy-name compatibility by normalizing reference actuator IDs (`xor_SendOutput`, `pb_SendOutput`, `dtm_SendOutput`, `two_wheels`, `fx_Trade`, `abc_pred`, `general_predictor`, `choose_OptimizationPhase`) to canonical Go actuator IDs during registry resolution and compatibility checks, and added cortex canonical/alias lookup fallback for scape binding requests.
- 2026-02-27: tightened population-monitor mutation acceptance so post-mutation genomes are IO-compatibility validated before a mutation step is counted successful; incompatible offspring are now retried in-loop instead of surfacing as deferred runtime errors.
- 2026-02-27: tightened morphology IO-compatibility validation (`EnsureGenomeIOCompatibility`) with explicit endpoint-link integrity checks so `sensor_neuron_links` and `neuron_actuator_links` must reference known sensor/actuator IDs (including substrate CPP/CEP endpoints) and existing neurons.
- 2026-02-27: restored substrate/IO mutation coverage in the parity acceptance gate by running smoke scapes at `--w-substrate 0.02` in `scripts/done_check.sh` (after cortex IO-topology fixes), replacing the temporary `--w-substrate 0` guard.
- 2026-02-27: tightened cortex IO-topology coherence so runtime Tick input routing now follows explicit `sensor_neuron_links`, actuator dispatch can follow `neuron_actuator_links`, and step-input width drift is bounded instead of hard-failing, eliminating reproduced `input size mismatch` crashes under IO-structure mutations (validated on `flatland`/`gtsa`/`fx` with `--w-substrate 0.02`).
- 2026-02-27: hardened parity done-check gate (`scripts/done_check.sh`) so benchmark acceptance now requires `benchmark_summary.json` with `"passed": true` for both benchmark and exported artifacts, and expanded bounded smoke scape coverage to `flatland`, `gtsa`, `fx`, `epitopes`, `dtm`, `pole2-balancing`, and `llvm-phase-ordering` (initially landed with a temporary `--w-substrate 0` guard before IO-topology fixes).
- 2026-02-27: expanded epitopes ETS-like table selection parity with built-in `abc_pred10..20` catalog support (`AvailableEpitopesTableNames` / `SelectEpitopesTableSource`) and run-scoped table-selection overrides (`epitopes_table_name` / `--epitopes-table`) wired through scape data-source context, API, CLI, and config parsing.
- 2026-02-27: expanded epitopes utility-workflow parity by adding persisted top-genome replay and aggregate benchmark summarization (`Client.EpitopesReplay` / `protogonosctl epitopes-test`) with run-config data-source restoration and mode-aware replay (`benchmark`/`gt`/`validation`/`test`).
- 2026-02-27: expanded epitopes message-protocol parity by adding explicit simulator session APIs (`NewEpitopesSimulator`, `Sense`, `Classify`, `State`) that mirror reference `sim/1` sense/classify sequencing semantics, including benchmark-window routing and halt/reset cycle behavior.
- 2026-02-27: expanded epitopes best-champion utility parity by adding explicit best-of-best rerun reporting in replay summaries (`BestReplayFitness`/`BestReplayTable`/`BestReplayTotal`) and surfacing those fields through `protogonosctl epitopes-test` text/JSON output.
- 2026-02-27: completed epitopes lifecycle/orchestration parity by adding `start()/db()` table-process analogs (`StartEpitopesTableDB`/`StopEpitopesTableDB`) and persisted generation-level `trace_acc` champion artifacts from `population_monitor` so replay now follows reference-style per-generation champion selection and validation-fitness-driven best-of-best reruns.
- 2026-02-27: expanded data-extractor packager coverage by adding `mnist`, `wine`, and `chr-hmm` extraction targets with reference-style class-vector mapping semantics and structured chr-HMM field extraction.
- 2026-02-27: expanded data-extractor ETS-workflow parity by adding table artifact build/read/write/dump helpers and CLI support for emitting/checking table artifacts (`--table-out`, `--table-check`, `--dump-limit`) as the Go analog of `ets:tab2file` / `ets:file2tab` + table-dump utilities.
- 2026-02-27: expanded data-extractor deep-gene post-processing parity by adding table transform/stat helpers (`InputColumnStats`, `ScaleInputsByColumnMax`, `ScaleInputsAsinh`, `BinarizeInputs`, `CleanZeroInputRows`, `CountZeroInputs`) and CLI support for transform/stats/save workflows (`--table-scale-max`, `--table-scale-asinh`, `--table-binarize`, `--table-clean-zero-inputs`, `--table-stats`, `--table-zero-counts`, `--table-save`).
- 2026-02-27: expanded data-extractor deep-gene full parity by adding `ResolutionateInputs` (windowed average/downsampling with optional asinh and zero-run dropping) and CLI support (`--table-resolution`, `--table-resolution-drop-zero-run`, `--table-resolution-asinh`) for both table-build and table-check workflows.
- 2026-02-27: expanded data-extractor utility-fixture parity by adding synthetic generator workflows for `create_CircuitTestFiles` and `create_CompetitiveTestFiles` analogs (`GenerateCircuitTestTables`, `GenerateCompetitiveTestTable`) with CLI export paths (`--generate-circuit-tests`, `--generate-competitive-tests`, `--seed`).
- 2026-02-27: expanded data-extractor `#info{}` metadata parity by adding infer/override helpers (`ApplyTableInfoPatch`) and CLI controls for `name/ivl/ovl/trn_end/val_end/tst_end` (`--table-info-*`) across table-build and table-check workflows.
- 2026-02-27: completed data-extractor legacy helper parity by adding one-off packager analogs for `simple_store`, `vowel_recognition`, `abc_pred1`, `hedge_fund`, `rw`/mines-vs-rocks, and `chrom_HMM` (including known tag catalog API) through new `data-extract` scape targets.
- 2026-02-27: expanded benchmarker experiment-lifecycle parity by adding persisted multi-run benchmark experiment orchestration (`benchmark-experiment start|continue|show|list`) with progress tracking (`run_index`/`total_runs`, `in_progress`/`completed`), interruption capture, deterministic run IDs, and per-run summary capture.
- 2026-02-27: expanded benchmarker report/evaluation parity with `benchmark-experiment evaluations|report`, including success/evaluation stats (`fitness_goal`/`evaluations_limit` aware) and persisted report bundle artifacts (`_Experiment`, `_Trace_Acc`, `_Evaluations`, `_Report`).
- 2026-02-27: expanded benchmarker graph parity with experiment graph aggregation/writing (`BuildBenchmarkerGraphs`/`WriteBenchmarkerGraphs`) and report-linked text graph artifacts (`graph_<morphology>_<name>_Graphs`).
- 2026-02-27: expanded benchmarker utility-command parity with `benchmark-experiment trace2graph|plot`, including standalone trace-file graph regeneration plus average/max curve extraction as the Go analogs of `trace2graph` and `gen_plot`/`genplot`.
- 2026-02-27: expanded benchmarker debug-helper parity with `benchmark-experiment chg-mrph|vector-compare`, including experiment/run scape retagging plus reference-style vector dominance/equality comparator helpers (`vector_gt`/`vector_lt`/`vector_eq` analogs).
- 2026-02-27: completed benchmarker helper parity with `benchmark-experiment unconsult` (`unconsult/1` analog), including configurable line-per-item dump output and experiment-sourced run-id/summary dump support.

## Summary

- `implemented`: 21
- `partial`: 10
- `missing`: 0
- `out-of-scope-now`: 3

Most core AGENTS responsibilities are present, with remaining `partial` modules concentrated in environment/runtime breadth and substrate-family depth. The largest parity gaps are:

1. Full scape behavior depth for complex reference environments (flatland/fx/gtsa/llvm family) beyond baseline parity surrogates.
2. Substrate encoding family behavior depth (`substrate.erl`, `substrate_cpp.erl`, `substrate_cep.erl`).

## Recommended next parity increments

1. Deepen scape behavior parity (`scape.erl`) and corresponding sensor/actuator/morphology semantics toward reference runtime depth.
2. Complete substrate-family behavior parity (`substrate.erl`, `substrate_cpp.erl`, `substrate_cep.erl`).
